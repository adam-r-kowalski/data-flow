(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const j={};function st(e){j.context=e}const it=(e,t)=>e===t,A=Symbol("solid-proxy"),H=Symbol("solid-track"),lt=Symbol("solid-dev-component"),ee={equals:it};let De=Le;const D=1,te=2,ct={owned:null,cleanups:null,context:null,owner:null};var h=null;let T=null,$=null,b=null,C=null,de=0,ut=0;function Q(e,t){const n=$,o=h,r=e.length===0,i={owned:null,cleanups:null,context:null,owner:t||o},s=r?()=>e(()=>{throw new Error("Dispose method must be an explicit argument to createRoot function")}):()=>e(()=>F(()=>ge(i)));o&&(i.name=`${o.name}-r${ut++}`),globalThis._$afterCreateRoot&&globalThis._$afterCreateRoot(i),h=i,$=null;try{return K(s,!0)}finally{$=n,h=o}}function G(e,t){t=t?Object.assign({},ee,t):ee;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0};t.internal||(n.name=ke(t.name||Te(e),n));const o=r=>(typeof r=="function"&&(r=r(n.value)),pe(n,r));return[Me.bind(n),o]}function _(e,t,n){const o=ie(e,t,!1,D,n);Y(o)}function ft(e,t,n){De=gt;const o=ie(e,t,!1,D,n);o.user=!0,C?C.push(o):Y(o)}function ce(e,t,n){n=n?Object.assign({},ee,n):ee;const o=ie(e,t,!0,0,n);return o.observers=null,o.observerSlots=null,o.comparator=n.equals||void 0,Y(o),Me.bind(o)}function k(e){return K(e,!1)}function F(e){let t,n=$;return $=null,t=e(),$=n,t}function je(e){return h===null?console.warn("cleanups created outside a `createRoot` or `render` will never be run"):h.cleanups===null?h.cleanups=[e]:h.cleanups.push(e),e}function ae(){return $}function dt(e,t){const n=ie(()=>F(()=>(Object.assign(e,{[lt]:!0}),e(t))),void 0,!0);return n.observers=null,n.observerSlots=null,n.state=0,n.componentName=e.name,Y(n),n.tValue!==void 0?n.tValue:n.value}function Te(e){const t=new Set;return`s${we(typeof e=="string"?e:F(()=>JSON.stringify(e,(n,o)=>{if(typeof o=="object"&&o!=null){if(t.has(o))return;t.add(o);const r=Object.keys(o),i=Object.getOwnPropertyDescriptors(o),s=r.reduce((l,c)=>{const f=i[c];return f.get||(l[c]=f),l},{});o=Object.create({},s)}return typeof o=="bigint"?`${o.toString()}n`:o})||""))}`}function ke(e,t){let n=e;if(h){let o=0;for(h.sourceMap||(h.sourceMap={});h.sourceMap[n];)n=`${e}-${++o}`;h.sourceMap[n]=t}return n}function at(e){return e||(e=h),e?{...Ve(e.sourceMap),...e.owned?Be(e):{}}:{}}function ye(e){const t=Symbol("context");return{id:t,Provider:mt(t),defaultValue:e}}function he(e){let t;return(t=Ue(h,e.id))!==void 0?t:e.defaultValue}function yt(e){const t=ce(e),n=ce(()=>ue(t()));return n.toArray=()=>{const o=n();return Array.isArray(o)?o:o!=null?[o]:[]},n}function Me(){const e=T;if(this.sources&&(this.state||e))if(this.state===D||e)Y(this);else{const t=b;b=null,K(()=>oe(this),!1),b=t}if($){const t=this.observers?this.observers.length:0;$.sources?($.sources.push(this),$.sourceSlots.push(t)):($.sources=[this],$.sourceSlots=[t]),this.observers?(this.observers.push($),this.observerSlots.push($.sources.length-1)):(this.observers=[$],this.observerSlots=[$.sources.length-1])}return this.value}function pe(e,t,n){let o=e.value;return(!e.comparator||!e.comparator(o,t))&&(e.value=t,e.observers&&e.observers.length&&K(()=>{for(let r=0;r<e.observers.length;r+=1){const i=e.observers[r],s=T&&T.running;s&&T.disposed.has(i),(s&&!i.tState||!s&&!i.state)&&(i.pure?b.push(i):C.push(i),i.observers&&Re(i)),s||(i.state=D)}if(b.length>1e6){throw b=[],new Error("Potential Infinite Loop Detected.");throw new Error}},!1)),t}function Y(e){if(!e.fn)return;ge(e);const t=h,n=$,o=de;$=h=e,ht(e,e.value,o),$=n,h=t}function ht(e,t,n){let o;try{o=e.fn(t)}catch(r){e.pure&&(e.state=D),Ie(r)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?pe(e,o):e.value=o,e.updatedAt=n)}function ie(e,t,n,o=D,r){const i={fn:e,state:o,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:h,context:null,pure:n};return h===null?console.warn("computations created outside a `createRoot` or `render` will never be disposed"):h!==ct&&(h.owned?h.owned.push(i):h.owned=[i],i.name=r&&r.name||`${h.name||"c"}-${(h.owned||h.tOwned).length}`),i}function ne(e){const t=T;if(e.state===0||t)return;if(e.state===te||t)return oe(e);if(e.suspense&&F(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<de);)(e.state||t)&&n.push(e);for(let o=n.length-1;o>=0;o--)if(e=n[o],e.state===D||t)Y(e);else if(e.state===te||t){const r=b;b=null,K(()=>oe(e,n[0]),!1),b=r}}function K(e,t){if(b)return e();let n=!1;t||(b=[]),C?n=!0:C=[],de++;try{const o=e();return pt(n),o}catch(o){b||(C=null),Ie(o)}}function pt(e){if(b&&(Le(b),b=null),e)return;const t=C;C=null,t.length?K(()=>De(t),!1):globalThis._$afterUpdate&&globalThis._$afterUpdate()}function Le(e){for(let t=0;t<e.length;t++)ne(e[t])}function gt(e){let t,n=0;for(t=0;t<e.length;t++){const o=e[t];o.user?e[n++]=o:ne(o)}for(j.context&&st(),t=0;t<n;t++)ne(e[t])}function oe(e,t){const n=T;e.state=0;for(let o=0;o<e.sources.length;o+=1){const r=e.sources[o];r.sources&&(r.state===D||n?r!==t&&ne(r):(r.state===te||n)&&oe(r,t))}}function Re(e){const t=T;for(let n=0;n<e.observers.length;n+=1){const o=e.observers[n];(!o.state||t)&&(o.state=te,o.pure?b.push(o):C.push(o),o.observers&&Re(o))}}function ge(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),o=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const i=r.pop(),s=n.observerSlots.pop();o<r.length&&(i.sourceSlots[s]=o,r[o]=i,n.observerSlots[o]=s)}}if(e.owned){for(t=0;t<e.owned.length;t++)ge(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null,delete e.sourceMap}function $t(e){return e instanceof Error||typeof e=="string"?e:new Error("Unknown error")}function Ie(e){throw e=$t(e),e}function Ue(e,t){return e?e.context&&e.context[t]!==void 0?e.context[t]:Ue(e.owner,t):void 0}function ue(e){if(typeof e=="function"&&!e.length)return ue(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const o=ue(e[n]);Array.isArray(o)?t.push.apply(t,o):t.push(o)}return t}return e}function mt(e){return function(n){let o;return _(()=>o=F(()=>(h.context={[e]:n.value},yt(()=>n.children)))),o}}function we(e){for(var t=0,n=9;t<e.length;)n=Math.imul(n^e.charCodeAt(t++),9**9);return`${n^n>>>9}`}function Ve(e={}){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const r=t[o];n[r]=e[r].value}return n}function Be(e){const t={};for(let n=0,o=e.owned.length;n<o;n++){const r=e.owned[n];t[r.componentName?`${r.componentName}:${r.name}`:r.name]={...Ve(r.sourceMap),...r.owned?Be(r):{}}}return t}const bt=Symbol("fallback");function xe(e){for(let t=0;t<e.length;t++)e[t]()}function wt(e,t,n={}){let o=[],r=[],i=[],s=0,l=t.length>1?[]:null;return je(()=>xe(i)),()=>{let c=e()||[],f,u;return c[H],F(()=>{let a=c.length,y,p,P,O,N,w,x,v,E;if(a===0)s!==0&&(xe(i),i=[],o=[],r=[],s=0,l&&(l=[])),n.fallback&&(o=[bt],r[0]=Q(le=>(i[0]=le,n.fallback())),s=1);else if(s===0){for(r=new Array(a),u=0;u<a;u++)o[u]=c[u],r[u]=Q(d);s=a}else{for(P=new Array(a),O=new Array(a),l&&(N=new Array(a)),w=0,x=Math.min(s,a);w<x&&o[w]===c[w];w++);for(x=s-1,v=a-1;x>=w&&v>=w&&o[x]===c[v];x--,v--)P[v]=r[x],O[v]=i[x],l&&(N[v]=l[x]);for(y=new Map,p=new Array(v+1),u=v;u>=w;u--)E=c[u],f=y.get(E),p[u]=f===void 0?-1:f,y.set(E,u);for(f=w;f<=x;f++)E=o[f],u=y.get(E),u!==void 0&&u!==-1?(P[u]=r[f],O[u]=i[f],l&&(N[u]=l[f]),u=p[u],y.set(E,u)):i[f]();for(u=w;u<a;u++)u in P?(r[u]=P[u],i[u]=O[u],l&&(l[u]=N[u],l[u](u))):r[u]=Q(d);r=r.slice(0,s=a),o=c.slice(0)}return r});function d(a){if(i[u]=a,l){const[y,p]=G(u);return l[u]=p,t(c[u],y)}return t(c[u])}}}function g(e,t){return dt(e,t||{})}function J(e){const t="fallback"in e&&{fallback:()=>e.fallback};return ce(wt(()=>e.each,e.children,t||void 0))}let M;M={writeSignal:pe,serializeGraph:at,registerGraph:ke,hashValue:Te};globalThis&&(globalThis.Solid$$?console.warn("You appear to have multiple instances of Solid. This can lead to unexpected behavior."):globalThis.Solid$$=!0);function xt(e,t,n){let o=n.length,r=t.length,i=o,s=0,l=0,c=t[r-1].nextSibling,f=null;for(;s<r||l<i;){if(t[s]===n[l]){s++,l++;continue}for(;t[r-1]===n[i-1];)r--,i--;if(r===s){const u=i<o?l?n[l-1].nextSibling:n[i-l]:c;for(;l<i;)e.insertBefore(n[l++],u)}else if(i===l)for(;s<r;)(!f||!f.has(t[s]))&&t[s].remove(),s++;else if(t[s]===n[i-1]&&n[l]===t[r-1]){const u=t[--r].nextSibling;e.insertBefore(n[l++],t[s++].nextSibling),e.insertBefore(n[--i],u),t[r]=n[i]}else{if(!f){f=new Map;let d=l;for(;d<i;)f.set(n[d],d++)}const u=f.get(t[s]);if(u!=null)if(l<u&&u<i){let d=s,a=1,y;for(;++d<r&&d<i&&!((y=f.get(t[d]))==null||y!==u+a);)a++;if(a>u-l){const p=t[s];for(;l<u;)e.insertBefore(n[l++],p)}else e.replaceChild(n[l++],t[s++])}else s++;else t[s++].remove()}}}function _t(e,t,n){let o;return Q(r=>{o=r,t===document?e():m(t,e(),t.firstChild?null:void 0,n)}),()=>{o(),t.textContent=""}}function S(e,t,n){const o=document.createElement("template");if(o.innerHTML=e,t&&o.innerHTML.split("<").length-1!==t)throw`The browser resolved template HTML does not match JSX input:
${o.innerHTML}

${e}. Is your HTML properly formed?`;let r=o.content.firstChild;return n&&(r=r.firstChild),r}function V(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function $e(e,t,n={}){const o=e.style,r=typeof n=="string";if(t==null&&r||typeof t=="string")return o.cssText=t;r&&(o.cssText=void 0,n={}),t||(t={});let i,s;for(s in n)t[s]==null&&o.removeProperty(s),delete n[s];for(s in t)i=t[s],i!==n[s]&&(o.setProperty(s,i),n[s]=i);return n}function m(e,t,n,o){if(n!==void 0&&!o&&(o=[]),typeof t!="function")return re(e,t,o,n);_(r=>re(e,t(),r,n),o)}function re(e,t,n,o,r){for(j.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;const i=typeof t,s=o!==void 0;if(e=s&&n[0]&&n[0].parentNode||e,i==="string"||i==="number"){if(j.context)return n;if(i==="number"&&(t=t.toString()),s){let l=n[0];l&&l.nodeType===3?l.data=t:l=document.createTextNode(t),n=U(e,n,o,l)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||i==="boolean"){if(j.context)return n;n=U(e,n,o)}else{if(i==="function")return _(()=>{let l=t();for(;typeof l=="function";)l=l();n=re(e,l,n,o)}),()=>n;if(Array.isArray(t)){const l=[],c=n&&Array.isArray(n);if(fe(l,t,n,r))return _(()=>n=re(e,l,n,o,!0)),()=>n;if(j.context){if(!l.length)return n;for(let f=0;f<l.length;f++)if(l[f].parentNode)return n=l}if(l.length===0){if(n=U(e,n,o),s)return n}else c?n.length===0?_e(e,l,o):xt(e,n,l):(n&&U(e),_e(e,l));n=l}else if(t instanceof Node){if(j.context&&t.parentNode)return n=s?[t]:t;if(Array.isArray(n)){if(s)return n=U(e,n,o,t);U(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}else console.warn("Unrecognized value. Skipped inserting",t)}return n}function fe(e,t,n,o){let r=!1;for(let i=0,s=t.length;i<s;i++){let l=t[i],c=n&&n[i];if(l instanceof Node)e.push(l);else if(!(l==null||l===!0||l===!1))if(Array.isArray(l))r=fe(e,l,c)||r;else if(typeof l=="function")if(o){for(;typeof l=="function";)l=l();r=fe(e,Array.isArray(l)?l:[l],c)||r}else e.push(l),r=!0;else{const f=String(l);c&&c.nodeType===3&&c.data===f?e.push(c):e.push(document.createTextNode(f))}}return r}function _e(e,t,n){for(let o=0,r=t.length;o<r;o++)e.insertBefore(t[o],n)}function U(e,t,n,o){if(n===void 0)return e.textContent="";const r=o||document.createTextNode("");if(t.length){let i=!1;for(let s=t.length-1;s>=0;s--){const l=t[s];if(r!==l){const c=l.parentNode===e;!i&&!s?c?e.replaceChild(r,l):e.insertBefore(r,n):c&&l.remove()}else i=!0}}else e.insertBefore(r,n);return[r]}const Z=Symbol("store-raw"),L=Symbol("store-node"),R=Symbol("store-name");function ze(e,t){let n=e[A];if(!n){if(Object.defineProperty(e,A,{value:n=new Proxy(e,Pt)}),!Array.isArray(e)){const o=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let i=0,s=o.length;i<s;i++){const l=o[i];if(r[l].get){const c=r[l].get.bind(n);Object.defineProperty(e,l,{get:c})}}}t&&Object.defineProperty(e,R,{value:t})}return n}function q(e){let t;return e!=null&&typeof e=="object"&&(e[A]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function I(e,t=new Set){let n,o,r,i;if(n=e!=null&&e[Z])return n;if(!q(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let s=0,l=e.length;s<l;s++)r=e[s],(o=I(r,t))!==r&&(e[s]=o)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const s=Object.keys(e),l=Object.getOwnPropertyDescriptors(e);for(let c=0,f=s.length;c<f;c++)i=s[c],!l[i].get&&(r=e[i],(o=I(r,t))!==r&&(e[i]=o))}return e}function B(e){let t=e[L];return t||Object.defineProperty(e,L,{value:t={}}),t}function se(e,t,n){return e[t]||(e[t]=Ye(n))}function Ge(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===A||t===L||t===R||(delete n.value,delete n.writable,n.get=()=>e[A][t]),n}function me(e){if(ae()){const t=B(e);(t._||(t._=Ye()))()}}function Fe(e){return me(e),Reflect.ownKeys(e)}function Ye(e){const[t,n]=G(e,{equals:!1,internal:!0});return t.$=n,t}const Pt={get(e,t,n){if(t===Z)return e;if(t===A)return n;if(t===H)return me(e),n;const o=B(e),r=o.hasOwnProperty(t);let i=r?o[t]():e[t];if(t===L||t==="__proto__")return i;if(!r){const s=Object.getOwnPropertyDescriptor(e,t);ae()&&(typeof i!="function"||e.hasOwnProperty(t))&&!(s&&s.get)&&(i=se(o,t,i)())}return q(i)?ze(i,e[R]&&`${e[R]}:${t.toString()}`):i},has(e,t){if(t===Z||t===A||t===H||t===L||t==="__proto__")return!0;const n=B(e)[t];return n&&n(),t in e},set(){return console.warn("Cannot mutate a Store directly"),!0},deleteProperty(){return console.warn("Cannot mutate a Store directly"),!0},ownKeys:Fe,getOwnPropertyDescriptor:Ge};function z(e,t,n,o=!1){if(!o&&e[t]===n)return;const r=e[t],i=e.length;n===void 0?delete e[t]:e[t]=n;let s=B(e),l;(l=se(s,t,r))&&l.$(()=>n),Array.isArray(e)&&e.length!==i&&(l=se(s,"length",i))&&l.$(e.length),(l=s._)&&l.$()}function Ke(e,t){const n=Object.keys(t);for(let o=0;o<n.length;o+=1){const r=n[o];z(e,r,t[r])}}function vt(e,t){if(typeof t=="function"&&(t=t(e)),t=I(t),Array.isArray(t)){if(e===t)return;let n=0,o=t.length;for(;n<o;n++){const r=t[n];e[n]!==r&&z(e,n,r)}z(e,"length",o)}else Ke(e,t)}function X(e,t,n=[]){let o,r=e;if(t.length>1){o=t.shift();const s=typeof o,l=Array.isArray(e);if(Array.isArray(o)){for(let c=0;c<o.length;c++)X(e,[o[c]].concat(t),n);return}else if(l&&s==="function"){for(let c=0;c<e.length;c++)o(e[c],c)&&X(e,[c].concat(t),n);return}else if(l&&s==="object"){const{from:c=0,to:f=e.length-1,by:u=1}=o;for(let d=c;d<=f;d+=u)X(e,[d].concat(t),n);return}else if(t.length>1){X(e[o],t,[o].concat(n));return}r=e[o],n=[o].concat(n)}let i=t[0];typeof i=="function"&&(i=i(r,n),i===r)||o===void 0&&i==null||(i=I(i),o===void 0||q(r)&&q(i)&&!Array.isArray(i)?Ke(r,i):z(e,o,i))}function At(...[e,t]){const n=I(e||{}),o=Array.isArray(n);if(typeof n!="object"&&typeof n!="function")throw new Error(`Unexpected type ${typeof n} received when initializing 'createStore'. Expected an object.`);const r=ze(n,t&&t.name||M.hashValue(n));{const s=t&&t.name||M.hashValue(n);M.registerGraph(s,{value:n})}function i(...s){k(()=>{o&&s.length===1?vt(n,s[0]):X(n,s)})}return[r,i]}const St={get(e,t,n){if(t===Z)return e;if(t===A)return n;if(t===H)return me(e),n;const o=B(e),r=o.hasOwnProperty(t);let i=r?o[t]():e[t];if(t===L||t==="__proto__")return i;if(!r){const s=Object.getOwnPropertyDescriptor(e,t),l=typeof i=="function";if(ae()&&(!l||e.hasOwnProperty(t))&&!(s&&s.get))i=se(o,t,i)();else if(i!=null&&l&&i===Array.prototype[t])return(...c)=>k(()=>Array.prototype[t].apply(n,c))}return q(i)?Xe(i,e[R]&&`${e[R]}:${t.toString()}`):i},has(e,t){if(t===Z||t===A||t===H||t===L||t==="__proto__")return!0;const n=B(e)[t];return n&&n(),t in e},set(e,t,n){return k(()=>z(e,t,I(n))),!0},deleteProperty(e,t){return k(()=>z(e,t,void 0,!0)),!0},ownKeys:Fe,getOwnPropertyDescriptor:Ge};function Xe(e,t){let n=e[A];if(!n){Object.defineProperty(e,A,{value:n=new Proxy(e,St)});const o=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let i=0,s=o.length;i<s;i++){const l=o[i];if(r[l].get){const c=r[l].get.bind(n);Object.defineProperty(e,l,{get:c})}if(r[l].set){const c=r[l].set;Object.defineProperty(e,l,{set:u=>k(()=>c.call(n,u))})}}t&&Object.defineProperty(e,R,{value:t})}return n}function Ot(e,t){const n=I(e||{});if(typeof n!="object"&&typeof n!="function")throw new Error(`Unexpected type ${typeof n} received when initializing 'createMutable'. Expected an object.`);const o=Xe(n,t&&t.name||M.hashValue(n));{const r=t&&t.name||M.hashValue(n);M.registerGraph(r,{value:n})}return o}const He=ye(),Ct=e=>{const[t,n]=G(void 0),o={},r=Ot({}),i=(c,f)=>{o[c]=f,r[c]=f.getBoundingClientRect()},s=()=>{k(()=>{for(const[c,f]of Object.entries(o))r[c]=f.getBoundingClientRect()})},l=(c,f)=>{k(()=>{for(const u of c){const d=r[u];r[u]={x:d.x-f.dx,y:d.y-f.dy,width:d.width,height:d.height}}})};return g(He.Provider,{value:{ports:r,setRef:i,recreateAllRects:s,applyDeltasToRects:l,root:t,setRoot:n},get children(){return e.children}})},W=()=>he(He),Ze=ye(),Nt=e=>g(Ze.Provider,{get value(){return e.camera},get children(){return e.children}}),be=()=>he(Ze),Pe={id:-1,position:{x:0,y:0}},ve=e=>({id:e.pointerId,position:{x:e.clientX,y:e.clientY}}),qe=(e,t)=>{const[n,o]=G(Pe),r=t(),i=c=>{o(ve(c)),c.stopPropagation()},s=c=>{n().id===c.pointerId&&o(Pe)},l=c=>{if(n().id!==c.pointerId)return;const f=ve(c);r({dx:n().position.x-f.position.x,dy:n().position.y-f.position.y}),o(f)};e.addEventListener("pointerdown",i),document.addEventListener("pointerup",s),document.addEventListener("pointermove",l),je(()=>{e.removeEventListener("pointerdown",i),document.removeEventListener("pointerup",s),document.removeEventListener("pointermove",l)})},Et=S("<div></div>",2),Dt=e=>g(Nt,{get camera(){return e.camera},get children(){return g(Ct,{get children(){return(()=>{const{setRoot:t,root:n}=W();return(()=>{const o=Et.cloneNode(!0);return o.addEventListener("wheel",r=>{if(r.preventDefault(),!r.ctrlKey)e.onDrag&&e.onDrag({dx:r.deltaX,dy:r.deltaY});else{const{x:i,y:s}=n().getBoundingClientRect();e.onZoom&&e.onZoom({x:r.clientX,y:r.clientY,delta:r.deltaY,rootX:i,rootY:s})}}),qe(o,()=>r=>{e.onDrag&&e.onDrag(r)}),t(o),m(o,()=>e.children),_(r=>$e(o,{width:`${e.width}px`,height:`${e.height}px`,overflow:"hidden",position:"relative",...e.style},r)),o})()})()}})}}),jt=S("<div></div>",2),Tt=e=>{const t=be(),n=()=>`translate(${t().x}px, ${t().y}px)`,o=()=>`scale(${t().zoom}, ${t().zoom})`,r=()=>`${n()} ${o()}`,{recreateAllRects:i}=W();return ft(()=>requestAnimationFrame(i)),(()=>{const s=jt.cloneNode(!0);return s.style.setProperty("transform-origin","top left"),m(s,()=>e.children),_(()=>s.style.setProperty("transform",r())),s})()},We=ye(),kt=e=>{const[t,n]=G(new Set),o=r=>n(i=>i.add(r));return g(We.Provider,{value:{portIds:t,addPortId:o},get children(){return e.children}})},Je=()=>he(We),Mt=S("<div></div>",2),Lt=e=>{const t=()=>`translate(${e.x}px, ${e.y}px)`,{applyDeltasToRects:n}=W(),o=be();return g(kt,{get children(){return(()=>{const{portIds:r}=Je();return(()=>{const i=Mt.cloneNode(!0);return qe(i,()=>({dx:s,dy:l})=>{const c={dx:s/o().zoom,dy:l/o().zoom};e.onDrag&&e.onDrag(c),n(r(),c)}),m(i,()=>e.children),_(s=>$e(i,{transform:t(),position:"absolute",...e.style},s)),i})()})()}})},Rt=S("<div></div>",2),Ae=e=>{const{setRef:t}=W();return Je().addPortId(e.id),(()=>{const n=Rt.cloneNode(!0);return(o=>t(e.id,o))(n),m(n,()=>e.children),_(o=>$e(n,e.style,o)),n})()},It=S("<svg><g></g></svg>",4),Ut=e=>{const t=be(),n=()=>`translate(${t().x} ${t().y})`,o=()=>`scale(${t().zoom} ${t().zoom})`,r=()=>`${n()} ${o()}`;return(()=>{const i=It.cloneNode(!0),s=i.firstChild;return i.style.setProperty("width","100%"),i.style.setProperty("height","100%"),i.style.setProperty("position","absolute"),i.style.setProperty("pointer-events","none"),m(s,()=>e.children),_(()=>V(s,"transform",r())),i})()},Vt=e=>{const{ports:t,root:n}=W(),o=()=>{const{x:r,y:i}=n().getBoundingClientRect(),s=({x:f,y:u,width:d,height:a})=>({x:f-r,y:u-i,width:d,height:a}),l=s(t[e.from]),c=s(t[e.to]);return[l,c]};return e.children(o)},Bt=e=>{const t={},n={},o={},r={},i={};for(let s=0;s<e;s+=3){const l=Math.random()*5e3-2500,c=Math.random()*5e3-2500;t[`node-${s}`]={uuid:`node-${s}`,name:"num",x:l,y:c,inputs:[],outputs:[`node-${s}_output-0`],body:`node-${s}_body`},t[`node-${s+1}`]={uuid:`node-${s+1}`,name:"num",x:l,y:c+200,inputs:[],outputs:[`node-${s+1}_output-0`],body:`node-${s+1}_body`},t[`node-${s+2}`]={uuid:`node-${s+2}`,name:"add",x:l+300,y:c+100,inputs:[`node-${s+2}_input-0`,`node-${s+2}_input-1`],outputs:[`node-${s+2}_output-0`],body:`node-${s+2}_body`},n[`edge-${s}`]={uuid:`edge-${s}`,input:`node-${s+2}_input-0`,output:`node-${s}_output-0`},n[`edge-${s+1}`]={uuid:`edge-${s+1}`,input:`node-${s+2}_input-1`,output:`node-${s+1}_output-0`},o[`node-${s+2}_input-0`]={uuid:`node-${s+2}_input-0`,name:"x"},o[`node-${s+2}_input-1`]={uuid:`node-${s+2}_input-1`,name:"y"},r[`node-${s}_output-0`]={uuid:`node-${s}_output-0`,name:"out"},r[`node-${s+1}_output-0`]={uuid:`node-${s+1}_output-0`,name:"out"},r[`node-${s+2}_output-0`]={uuid:`node-${s+2}_output-0`,name:"out"},i[`node-${s}_body`]={uuid:`node-${s}_body`,value:18},i[`node-${s+1}_body`]={uuid:`node-${s+1}_body`,value:24},i[`node-${s+2}_body`]={uuid:`node-${s+2}_body`,value:42}}return{nodes:t,edges:n,inputs:o,outputs:r,bodies:i}},zt=(e,t)=>{const[n,o,r,i,s,l,c,f,u]=e,[d,a,y,p,P,O,N,w,x]=t,v=n*d+o*p+r*N,E=n*a+o*P+r*w,le=n*y+o*O+r*x,Qe=i*d+s*p+l*N,et=i*a+s*P+l*w,tt=i*y+s*O+l*x,nt=c*d+f*p+u*N,ot=c*a+f*P+u*w,rt=c*y+f*O+u*x;return[v,E,le,Qe,et,tt,nt,ot,rt]},Se=(e,t)=>[1,0,e,0,1,t,0,0,1],Gt=e=>[e,0,0,0,e,0,0,0,1],Oe=S("<div></div>",2),Ft=S("<div><div></div><div></div></div>",6),Ce=S("<div><div></div></div>",4),Ne=S('<svg><circle r="10" fill="black"></circle></svg>',4,!0),Yt=S('<svg><path stroke="black" stroke-width="3" fill="none"></path></svg>',4,!0),Ee=()=>{const[e,t]=At(Bt(1e3)),[n,o]=G({x:0,y:0,zoom:1}),r=c=>{o({x:n().x-c.dx,y:n().y-c.dy,zoom:n().zoom})},i=(c,f)=>{t("nodes",c,u=>({...u,x:u.x-f.dx,y:u.y-f.dy}))},s=(c,f,u)=>Math.max(f,Math.min(u,c));return g(Dt,{width:700,height:700,style:{background:"tan"},onDrag:r,onZoom:c=>{const f=s(n().zoom*(1-c.delta*.01),.1,5),u=[n().zoom,0,n().x+c.rootX,0,n().zoom,n().y+c.rootY,0,0,1],d=[Se(c.x,c.y),Gt(f/n().zoom),Se(-c.x,-c.y),u].reduce(zt);o({zoom:d[0],x:d[2]-c.rootX,y:d[5]-c.rootY})},camera:n,get children(){return[g(Tt,{get children(){return g(J,{get each(){return Object.values(e.nodes)},children:c=>g(Lt,{get x(){return c.x},get y(){return c.y},style:{background:"cornflowerblue",padding:"20px",display:"flex",gap:"20px"},onDrag:f=>i(c.uuid,f),get children(){return[(()=>{const f=Oe.cloneNode(!0);return f.style.setProperty("display","flex"),f.style.setProperty("flex-direction","column"),f.style.setProperty("gap","10px"),m(f,g(J,{get each(){return c.inputs},children:u=>{const d=e.inputs[u];return(()=>{const a=Ce.cloneNode(!0),y=a.firstChild;return a.style.setProperty("display","flex"),a.style.setProperty("align-items","center"),a.style.setProperty("gap","10px"),m(a,g(Ae,{get id(){return d.uuid},style:{background:"white",width:"40px",height:"40px"}}),y),m(y,()=>d.name),a})()}})),f})(),(()=>{const f=Ft.cloneNode(!0),u=f.firstChild,d=u.nextSibling;return f.style.setProperty("display","flex"),f.style.setProperty("flex-direction","column"),f.style.setProperty("align-items","center"),f.style.setProperty("gap","10px"),m(u,()=>c.name),d.style.setProperty("background","white"),d.style.setProperty("padding","20px"),m(d,()=>e.bodies[c.body].value),f})(),(()=>{const f=Oe.cloneNode(!0);return f.style.setProperty("display","flex"),f.style.setProperty("flex-direction","column"),f.style.setProperty("gap","10px"),m(f,g(J,{get each(){return c.outputs},children:u=>{const d=e.outputs[u];return(()=>{const a=Ce.cloneNode(!0),y=a.firstChild;return a.style.setProperty("display","flex"),a.style.setProperty("align-items","center"),a.style.setProperty("gap","10px"),m(y,()=>d.name),m(a,g(Ae,{get id(){return d.uuid},style:{background:"white",width:"40px",height:"40px"}}),null),a})()}})),f})()]}})})}}),g(Ut,{get children(){return g(J,{get each(){return Object.values(e.edges)},children:c=>g(Vt,{get from(){return c.output},get to(){return c.input},children:f=>{const u=()=>{const d=f()[0].x+f()[0].width/2,a=f()[0].y+f()[0].height/2,y=d+50,p=f()[1].x+f()[1].width/2,P=p-50,O=f()[1].y+f()[1].height/2;return{x0:d,y0:a,x1:y,x2:P,x3:p,y3:O}};return[(()=>{const d=Ne.cloneNode(!0);return _(a=>{const y=u().x0,p=u().y0;return y!==a._v$&&V(d,"cx",a._v$=y),p!==a._v$2&&V(d,"cy",a._v$2=p),a},{_v$:void 0,_v$2:void 0}),d})(),(()=>{const d=Ne.cloneNode(!0);return _(a=>{const y=u().x3,p=u().y3;return y!==a._v$3&&V(d,"cx",a._v$3=y),p!==a._v$4&&V(d,"cy",a._v$4=p),a},{_v$3:void 0,_v$4:void 0}),d})(),(()=>{const d=Yt.cloneNode(!0);return _(()=>V(d,"d",`M${u().x0},${u().y0} C${u().x1},${u().y0} ${u().x2},${u().y3} ${u().x3},${u().y3}`)),d})()]}})})}})]}})},Kt=S("<div></div>",2),Xt=()=>(()=>{const e=Kt.cloneNode(!0);return e.style.setProperty("display","flex"),e.style.setProperty("flex-direction","column"),e.style.setProperty("gap","50px"),e.style.setProperty("margin","50px"),e.style.setProperty("width","100vw"),e.style.setProperty("align-items","center"),m(e,g(Ee,{}),null),m(e,g(Ee,{}),null),e})();_t(()=>g(Xt,{}),document.getElementById("root"));
